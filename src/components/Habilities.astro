---
import habilities from '../../public/json/habilities.json';

function hexToRgb(hex: string) {
	let r = parseInt(hex.slice(1, 3), 16);
	let g = parseInt(hex.slice(3, 5), 16);
	let b = parseInt(hex.slice(5, 7), 16);
	return [r, g, b];
}
---

<style>
	.hover-color {
		transition:
			transform 0.3s ease,
			border 0.3s ease;
		border: 1px solid transparent; /* Define un borde transparente para evitar saltos al hacer hover */
	}

	.hover-color:hover {
		background-color: rgba(var(--color), 0.2);
		border-color: var(--colorFont);
		color: var(--colorFont);
		transform: scale(1.1); /* Aumenta el tama√±o del elemento en un 10% */
	}
</style>

<section class="py-12 scroll-m-20 w-full mx-auto px-3 container lg:max-w-4xl md:max-w-2xl">
	<h2 class="text-white text-3xl font-bold pb-6">
		<i class="fa-solid fa-code"></i> Habilidades
	</h2>
	<ul class="grid grid-cols-2 sm:grid-cols-3 md:grid-cols-3 lg:grid-cols-5 gap-2">
		{
			habilities.map((hab) => {
				let rgb = hexToRgb(hab.color);
				return (
					<li
						class="flex flex-col justify-center items-center gap-1 p-1 rounded-xl text-white hover-color"
						style={`--color: ${rgb.join(',')}; --colorFont: ${hab.color};`}
					>
						<img class="size-12" src={hab.imageSrc} alt={hab.description} />
						<p class="font-bold">{hab.description}</p>
					</li>
				);
			})
		}
	</ul>
</section>
